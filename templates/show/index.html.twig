{% extends 'base.html.twig' %}

{% block title %}Liste des spectacles{% endblock %}



{% block body %}

    <h1>Liste des {{ resource }}</h1>

    <ul>
    {% for show in shows %}
        <li>{{ show.title }}
            {% if show.bookable %}
            <span>{{ show.price }} €</span>
            {% endif %}

            {% if show.representations|length==1 %}
            - <span>1 représentation</span>
            {% elseif show.representations|length>1 %}
            - <span>{{ show.representations|length }} représentations</span>
            {% else %}
            - <em>aucune représentation</em>
            {% endif %}
        </li>
    {% endfor %}
    </ul>
<hr>

<table class="table table-striped table-bordered" style="width:100% id="myTable>

  <thead>

  <tr>
    <th>Représentations</th>
    <th>Prix</th>
    <th>Nombre de représentations</th>
  </tr>
  </thead>
  <tbody>
  {% for show in shows %}
  <tr>
    <td>{{ show.title }}</td>
      {% if show.bookable %}
    <td>{{ show.price }} €</td>
    {% else %}
    <td>/</td>
    {% endif %}

    <td> {% if show.representations|length==1 %}
    <span>1 représentation</span>
    {% elseif show.representations|length>1 %}
    <span>{{ show.representations|length }} représentations</span>
    {% else %}
    <em>aucune représentation</em>
    {% endif %}</td>
  </tr>
  {% endfor %}
  </tbody>
  <tfoot>
   <tr>
      <th>Représentations</th>
      <th>Prix</th>
      <th>Nombre de représentations</th>
    </tr>

  </tfoot>


</table>

{% endblock %}

{% block javascript %}
<script src="https://code.jquery.com/jquery-1.11.2.min.js"></script>

<script src="cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
<script src="cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css"></script>
<script src="https://cdn.datatables.net/1.10.12/js/dataTables.bootstrap.min.js"></script>
<script>
$(document).ready( function () {
    $('#myTable').DataTable();
} );
</script>
{% endblock %}
